<!-- Copyright [2016] [Lele Guo]

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

// http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
--> 
<!-- navbar header -->
<div class="navbar-header {{app.settings.navbarHeaderColor}}" ng-controller="AsideController as vm">
    <button class="pull-right visible-xs dk" ui-toggle-class="show" data-target=".navbar-collapse">
        <i class="glyphicon glyphicon-cog"></i>
    </button>
    <button class="pull-right visible-xs" ui-toggle-class="off-screen" data-target=".app-aside" ui-scroll-to="app">
        <i class="glyphicon glyphicon-align-justify"></i>
    </button>
    <!-- brand -->
    <a ui-sref="app.dashboard" class="navbar-brand text-lt">
        <!--<i class="fa fa-btc"></i>-->
        <img src="images/logo.png" alt=".">
        <span class="hidden-folded m-l-xs small">{{vm.title}}</span>
    </a>
    <!-- / brand -->
</div>
<!-- / navbar header -->

<!-- navbar collapse -->
<div class="collapse pos-rlt navbar-collapse box-shadow {{app.settings.navbarCollapseColor}}" ng-controller="AsideController as vm">
    <!-- buttons -->
    <div class="nav navbar-nav hidden-xs">
        <a href class="btn no-shadow navbar-btn" ng-click="app.settings.asideFolded = !app.settings.asideFolded">
            <i class="fa {{app.settings.asideFolded ? 'fa-indent' : 'fa-dedent'}} fa-fw"></i>
        </a>
        <a href class="btn no-shadow navbar-btn" ui-toggle-class="show" target="#aside-user">
            <i class="icon-user fa-fw"></i>
        </a>
    </div>
    <!-- / buttons -->


    <!-- search form -->
    <form class="navbar-form navbar-form-sm navbar-left shift" ui-shift="prependTo" target=".navbar-collapse" role="search">
        <div class="form-group">
            <div class="input-group">
                <input type="text" ng-model="selected" disabled typeahead="state for state in states | filter:$viewValue | limitTo:8" class="form-control input-sm bg-light no-border rounded padder" placeholder="搜索...">
                <span class="input-group-btn">
                <button type="submit" class="btn btn-sm bg-light rounded"><i class="fa fa-search"></i></button>
              </span>
            </div>
        </div>
    </form>
    <!-- / search form -->

    <!-- nabar right -->
    <ul class="nav navbar-nav navbar-right dropdown">
        <li class="dropdown hidden-sm" is-open="lang.isopen">
            <a href class="dropdown-toggle" data-toggle="dropdown" id="dropdownLang">
                {{selectLang}} <b class="caret"></b>
            </a>
            <!-- dropdown -->
            <ul class="dropdown-menu animated fadeIn w">
                <li ng-repeat="(langKey, label) in langs">
                    <a ng-click="setLang(langKey, $event)" href>{{label}}</a>
                </li>
            </ul>
            <!-- / dropdown -->
        </li>
        <!--<li class="hidden-xs">-->
            <!--<a ui-fullscreen></a>-->
        <!--</li>-->
        <li class="dropdown">
            <a href class="dropdown-toggle" data-toggle="dropdown" id="dropdownNoti">
                <i class="icon-bell fa-fw"></i>
                <span class="visible-xs-inline">Notifications</span>
                <span class="badge badge-sm up bg-danger pull-right-xs">{{vm.messages.length > 0 ? vm.messages.length : ''}}</span>
            </a>
            <!-- dropdown -->
            <div class="dropdown-menu w-xl animated fadeIn">
                <div class="panel bg-white">
                    <div class="panel-heading b-light bg-light">
                        <strong>{{vm.messages.length > 0 ? '新的消息' : '尚未有任何通知信息'}}</strong>
                    </div>
                    <div class="list-group">
                        <!--<a href class="media list-group-item">-->
                    <!--<span class="pull-left thumb-sm">-->
                      <!--<img src="images/a0.jpg" alt="..." class="img-circle">-->
                    <!--</span>-->
                            <!--<span class="media-body block m-b-none">-->
                      <!--Use awesome animate.css<br>-->
                      <!--<small class="text-muted">10 minutes ago</small>-->
                    <!--</span>-->
                        <!--</a>-->
                        <a href class="media list-group-item">
                            <span class="media-body block m-b-none" ng-repeat="message in vm.messages" style="height: 120px;width: 300px;">
                              {{message.message}}<br>
                              <small class="text-muted">{{message.createdat}}</small>
                            </span>
                        </a>
                    </div>
                    <div class="panel-footer text-sm">
                        <a href class="pull-right"><i class="fa fa-cog"></i></a>
                        <a data-toggle="class:show animated fadeInRight" ng-click="vm.clearAllMessageAction()">消除</a>
                    </div>
                </div>
            </div>
            <!-- / dropdown -->
        </li>
        <li class="dropdown">
            <a href class="dropdown-toggle clear" data-toggle="dropdown" id="dropdownProfile">
              <span class="thumb-sm avatar pull-right m-t-n-sm m-b-n-sm m-l-sm">
                <img src="images/a0.jpg" alt="...">
                <i class="on md b-white bottom"></i>
              </span>
              <span class="hidden-sm hidden-md">{{vm.infomation.username}}</span> <b class="caret"></b>
            </a>
            <!-- dropdown -->
            <ul class="dropdown-menu animated fadeIn w">
                <li class="wrapper b-b m-b-sm bg-light m-t-n-xs">
                    <span>{{vm.infomation.username}}</span>
                </li>
                <!--<li>-->
                    <!--<a href>-->
                        <!--<span class="badge bg-danger pull-right">30%</span>-->
                        <!--<span>Settings</span>-->
                    <!--</a>-->
                <!--</li>-->
                <li>
                    <a ui-sref="app.profile">个人信息</a>
                </li>
                <!--<li>-->
                    <!--<a ui-sref="app.docs">-->
                        <!--<span class="label bg-info pull-right">new</span>-->
                        <!--Help-->
                    <!--</a>-->
                <!--</li>-->
                <li class="divider"></li>
                <li>
                    <a ng-click="vm.logoutAction()">退出</a>
                </li>
            </ul>
            <!-- / dropdown -->
        </li>
    </ul>
    <!-- / navbar right -->

</div>
<!-- / navbar collapse -->
